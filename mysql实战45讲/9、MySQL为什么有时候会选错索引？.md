# 问题
1. 优化器存在选错索引的情况有哪些
2. 优化器选出索引的情况怎么解决

# 优化器存在选错索引的情况有哪些
- 使用explain可以看到语句的指向情况,会发现优化器在选择索引的时候选择错误了(查询的行数较多、索引字段不对)
- 在数据库里面，扫描行数是影响执行代价的因素之一。扫描的行数越少，意味着访问磁盘数据的次数越少，消耗的 CPU 资源越少
1. 扫描行数的不准导致选错索引
- MySQL使用采样统计数据页的方式得出索引字段的行数
  - 使用analyze table t进行重新统计索引信息，解决扫描行数不准确的问题(发现explain的结果预估的rows值跟实际情况差距比较大)
  - 使用force index强制使用一个索引
  - 修改查询语句，引导MySQL使用我们期望的索引(加上order by或子查询等)
  - 新建一个更合适的索引提供给优化器选择、删除掉误用的索引